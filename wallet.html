<!DOCTYPE html>
<html>

<head>
    <!-- Basic -->
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <!-- Site Metas -->
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>

    <title>$NBA</title>

    <!-- slider stylesheet -->
    <!-- slider stylesheet -->
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"/>

    <!-- bootstrap core css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css"/>

    <!-- fonts style -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Poppins:400,700&display=swap"
          rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet"/>
    <!-- responsive style -->
    <link href="css/responsive.css" rel="stylesheet"/>
</head>

<body class="sub_page">
<div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
        <div class="container-fluid">
            <nav class="navbar navbar-expand-lg custom_nav-container pt-3">
                <a class="navbar-brand" href="index.html">
            <span>
              GOAT
            </span>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
                        <ul class="navbar-nav  ">
                            <li class="nav-item active">
                                <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="wallet.html"> App </a>
                            </li>
                        </ul>
                        <div class="user_option">
                            <a href="https://discord.gg/HgTUCVmw2G" target="_blank" aria-label="Discord"
                               class="chakra-link chakra-button css-mik0rd">
                                <svg stroke="currentColor" fill="white" stroke-width="0" viewBox="0 0 640 512"
                                     aria-hidden="true" focusable="false" height="1em" width="1em"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                            d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z">
                                    </path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <!-- end header section -->
</div>


<!-- work section -->
<section class="work_section layout_padding">
    <div class="container">
        <div class="heading_container">
            <h2>
                Interact with Contract
            </h2>
            <p>
                GOAT contract is deployed on Ethereum mainnet at address 0x46c5264728af4dbe274929f9509fbeabf8cca2c9
                (<a href="https://etherscan.io/address/0x46c5264728af4dbe274929f9509fbeabf8cca2c9">Check contract on
                Etherscan</a>) <br/>
                Funders can deposit USDC token to the contract. And withdraw deposited assets at anytime. <br/> <br/>
                (Vouching coming soon...) <br/>
                Funders can vouch for the project when there is a chance to purchase team shares, vouched assets will be
                moved by Project GOAT team to purchase the shares and vouchers will be share owners after the
                transaction is done. <br/>
                Before vouching, deposited assets are totally under funders' control. <br/> <br/>
                When "Approve USDC", please make sure the contract address is 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 <br/>
                When "Deposit/Withdraw", please make sure the contract address is 0x46c5264728af4dbe274929f9509fbeabf8cca2c9 <br/>
                *USDC uses 6 decimal points so for the following amounts, 1 unit = 0.000001 $USDC, i.e. 1000000 = 1 $USDC.
            </p>
        </div>
        <div class="work_container layout_padding2 ">
            <div class="box b-1">
                <div id="fundAmount" style="display:none"></div>
            </div>
            <div class="box b-1">
                <button id="connectButton">Connect Wallet</button>
                <div class="approve-form" id="approveForm" style="display:none">
                    <div>
                        <label for="approveAmount"></label><input type="number" placeholder="approve amount" id="approveAmount">
                    </div>
                    <button id="approveButton">
                        Approve USDC
                    </button>
                </div>
                <div class="deposit-form" id="depositForm" style="display:none">
                    <div>
                        <label for="depositAmount"></label><input type="number" placeholder="deposit amount" id="depositAmount">
                    </div>
                    <button id="depositButton">
                        Deposit
                    </button>
                </div>
                <div class="withdraw-form" id="withdrawForm" style="display:none">
                    <div>
                        <label for="withdrawAmount"></label><input type="number" placeholder="deposit amount" id="withdrawAmount">
                    </div>
                    <button id="withdrawButton">
                        Withdraw
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-3 mx-auto">

        </div>

        <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
        <script>
            const provider = new ethers.providers.Web3Provider(window.ethereum);
            let signer;

            const sssContractAddress = "0x46c5264728af4dbe274929f9509fbeabf8cca2c9";
            const sssABI = [
                "function getDeposit(address sponsor) public view returns (uint256)",
                "function deposit(uint256 amount) public returns ()",
                "function withdraw(uint256 amount) public returns ()",
            ];
            let sssContract;

            const usdcContractAddress = "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48";
            const usdcABI = [
                "function approve(address spender, uint256 value) external returns (bool)",
            ];
            let usdcContract;


            document.getElementById('connectButton').addEventListener('click', async () => {
                await provider.send("eth_requestAccounts", []);
                signer = provider.getSigner();
                sssContract = new ethers.Contract(sssContractAddress, sssABI, signer);
                usdcContract = new ethers.Contract(usdcContractAddress, usdcABI, signer);
                document.getElementById('approveForm').style.display = 'block';
                document.getElementById('depositForm').style.display = 'block';
                document.getElementById('withdrawForm').style.display = 'block';

                try {
                    let queryResult = await sssContract.getDeposit(signer.getAddress());
                    document.getElementById('fundAmount').innerHTML = 'Deposited ' + queryResult.toNumber() / 1000000.0 + " $USDC";
                    document.getElementById('fundAmount').style.display = 'block';
                } catch (error) {
                    console.error(error);
                }
            });

            document.getElementById('approveButton').addEventListener('click', async () => {
                try {
                    var amount = document.getElementById("approveAmount").value;
                    let approveResult = await usdcContract.approve(sssContractAddress, amount);
                    console.log(approveResult.toString());
                } catch (error) {
                    console.error(error);
                }
            });

            document.getElementById('depositButton').addEventListener('click', async () => {
                try {
                    var amount = document.getElementById("depositAmount").value;
                    await sssContract.deposit(amount);

                    let queryResult = await sssContract.getDeposit(signer.getAddress());
                    document.getElementById('fundAmount').innerHTML = 'Deposited ' + queryResult.toNumber() / 1000000.0 + " $USDC";
                } catch (error) {
                    console.error(error);
                }
            });

            document.getElementById('withdrawButton').addEventListener('click', async () => {
                try {
                    var amount = document.getElementById("withdrawAmount").value;
                    await sssContract.withdraw(amount);

                    let queryResult = await sssContract.getDeposit(signer.getAddress());
                    document.getElementById('fundAmount').innerHTML = 'Deposited ' + queryResult.toNumber() / 1000000.0 + " $USDC";
                } catch (error) {
                    console.error(error);
                }
            });
        </script>

    </div>
</section>

<!-- end work section -->


<!-- info section -->
<section class="info_section ">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div class="info_contact">
                    <h5>
                        About Us
                    </h5>
                    <div>
                        <p>
                            Project GOAT stands for Global Organization Asset Tokenization. Our ambition is to become
                            the first digital platform that fans can really OWN shares of their teams.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="info_info">
                    <h5>
                        Values
                    </h5>
                    <p>
                        Provide opportunities to deeply connect with the sports teams (for fans) <br/>
                        Provide chances to invest in the best performing assets (for investors) <br/>
                        Provide liquidity to illiquid real-world assets (for owners) <br/>
                        Provide compliant tokenization/crypto solutions (for society)
                    </p>
                </div>
            </div>
            <div class="col-md-10">
                <div class="info_info">
                    <h5>
                        How can fans own the teams?
                    </h5>
                    <p>
                        Owning shares of professional sports teams is never easy. But I believe the impact of a strong
                        community of fans can give us great advantages. While there are many unanswered questions, we
                        have a general blueprint in mind:
                    </p>
                    <p>
                        1. Start from building a fandom community <br/>
                        2. Form a company to sort out regulation stuff <br/>
                        3. Connect with players and investors <br/>
                        4. Build a web3/crypto platform for sports <br/>
                        5. Make a deal with team owners <br/>
                        6. Bring team shares to everyone in the community <br/>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end info_section -->


<!-- footer section -->
<section class="container-fluid footer_section">
    <p>
        &copy; 2024 All Rights Reserved By Project GOAT
    </p>
</section>
<!-- footer section -->

<script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
</script>
<!-- owl carousel script
  -->
<script type="text/javascript">
    $(".owl-carousel").owlCarousel({
        loop: true,
        margin: 0,
        navText: [],
        center: true,
        autoplay: true,
        autoplayHoverPause: true,
        responsive: {
            0: {
                items: 1
            },
            1000: {
                items: 3
            }
        }
    });
</script>
<!-- end owl carousel script -->

</body>

</html>
